/*!
 * papapa v1.0.0 (https://github.com/latel/papapa#readme)
 * Copyright 2016, kevinnwang <latelx64@icloud.com>
 * MIT license
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Papapa=t():e.Papapa=t()}(this,function(){return function(e){function t(s){if(a[s])return a[s].exports;var i=a[s]={exports:{},id:s,loaded:!1};return e[s].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e){switch(e="object"===("undefined"==typeof e?"undefined":r(e))?e:{},e.keyboardType){case"numpad":return new l["default"](e);default:throw new TypeError(e.type?"papapa keyboard type "+e.type+" is not available.":"must specialfy a papapa keyboard type.")}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a(1),n=s(o),p=a(10),l=s(p);i.Framework=n["default"],i.Numpad=l["default"],i.version="1.0.0",e.exports=i},function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),n=a(2),p=i(n);a(4);var l=a(8),c=s(l),d=a(9),u=s(d),h={Keyboard:"papapa-keyboard",Target:"papapa-target",Empty:"papapa-keyboard-empty",Popup:"papapa-keyboard-popup",ThemedBy:"papapa-keyboard-theme--",StateAt:"papapa-keyboard-state--",Direction:{Landscape:"papapa-direction-landscape"},Key:"papapa-keyboard-key",KeyTap:"papapa-keyboard-key--tap",HasPlaceHolder:"papapa-keyboard-hasplaceholder",HasPlaceHolderVisible:"papapa-keyboard-haspalceholder--visible",Disable:"papapa-keyboard-disable",ShiftLock:"papapa-keyboard-shiftlock",CapsLock:"papapa-keyboard-capslock",Cursor:"papapa-target-cursor"},y={Portrait:"portrait",Landscape:"landscape"},f=function(){function e(t,a){r(this,e),this._index=e.index++,this._options=a=a||{},this._template=t||u["default"],this._state={normal:!0},this._events={},this.$keyboard=null,this.$target=null,this.maxLength=1/0,this.isPopup=!1,this.value="",this.isEmpty=!0,this.isDisabled=!1,this.hasPlaceHolder=!1,this.hasPlaceHolderVisible=!1,this.direction=y.Portrait,this.capsLock=!1,this.shiftLock=!1,this._initDymaticProperties(),this._prepareKeyboard(),this._prepareTarget(),this._watchDirectionChanges(),this._bindEvents()}return o(e,[{key:"setValue",value:function(t){var a;this.$target&&(a=this.value,this._dispatchEvent("change",a,t)?(this.value=t,this.$target.children[0].innerHTML=t,this.value?(this._class.remove(e.ClassNames.HasPlaceHolderVisible,e.ClassNames.Empty),this.$target.classList.add(e.ClassNames.Cursor)):this._class.add(e.ClassNames.Empty)):this._dispatchEvent("unchange",a,t))}},{key:"popup",value:function(){this._dispatchEvent("popup")?(this._class.add(e.ClassNames.Popup),this.isPopup=!0,this.$target&&(this.$target.classList.add(e.ClassNames.Cursor),this.value||(this._class.remove(e.ClassNames.HasPlaceHolderVisible),this.$target.children[0].innerHTML=""))):this._dispatchEvent("unpopup")}},{key:"fold",value:function(){this._dispatchEvent("fold")?(this._class.remove(e.ClassNames.Popup),this.isPopup=!1,this.$target&&(this.$target.classList.remove(e.ClassNames.Cursor),this.value||(this.$target.children[0].innerHTML=this._options.placeHolder,this._class.add(e.ClassNames.HasPlaceHolderVisible),this.$target&&this.$target.classList.remove(e.ClassNames.Cursor)))):this._dispatchEvent("unfold")}},{key:"destory",value:function(){this._dispatchEvent("event")&&console.log("destoried")}},{key:"on",value:function(e,t){if("string"==typeof e&&"function"==typeof t)return this._registerEvent(e,t)}},{key:"when",value:function(){this.on.apply(this,arguments)}},{key:"off",value:function(e,t){"string"==typeof e&&this._delEvent(e,t)}},{key:"_initDymaticProperties",value:function(){var e=this;Object.defineProperties(this,{size:{configurable:!1,get:function(){return{width:e.$keyboard.offsetWidth,height:e.$keyboard.offsetHeight}}}})}},{key:"_prepareTarget",value:function(){var t;this._options.target instanceof Element?(this.$target=this._options.target,this.$target.classList.add(e.ClassNames.Target),p.merge(this._options,{maxLength:this.$target.getAttribute("maxlength"),placeHolder:this.$target.getAttribute("placeholder"),pattern:this.$target.getAttribute("pattern")}),this._options.pattern=this._options.pattern||/.*/g,(this.hasPlaceHolder=!!this._options.target.getAttribute("placeholder"))&&this._class.add(e.ClassNames.HasPlaceHolder,e.ClassNames.HasPlaceHolderVisible),this._options.target.innerHTML?(t=this.$target.innerHTML,this.hasPlaceholderVisible=!1,this._class.remove(e.ClassNames.Empty,e.ClassNames.HasPlaceHolderVisible),this._class.add(e.ClassNames.Empty)):this.hasPlaceHolder&&(this.$target.children[0].innerHTML=this._options.placeHolder),this.$target.innerHTML="",this.$target.insertAdjacentElement("beforeend",p.render(c["default"])),this.$target.children[0].style.height=this.$target.offsetHeight+"px",this.setValue(t)):delete this._options.target}},{key:"_prepareKeyboard",value:function(){if(!this._template)throw new Error("papapa keyboard template is not ready.");this.$keyboard=p.render(this._template,{options:this._options}),this.$keyboard.id=this._index,document.body.appendChild(this.$keyboard)}},{key:"_applyTheme",value:function(e){}},{key:"_changeInternalState",value:function(e){}},{key:"_watchDirectionChanges",value:function(){function t(){e.Direction.Landscape===["portrait",,"landscape"][2&window.orientation]?(a.direction=e.Direction.Landscape,a._class.add(e.ClassNames.Direction.Landscape)):(a.direction=e.Direction.Portrait,a._class.remove(e.ClassNames.Direction.Landscape)),a._dispatchEvent("orientationchange",a.direction)}var a=this,s=["portrait",,"landscape"][2&window.orientation];this.direction=s,e.ClassNames.Direction.Landscape===s&&a._class.add(e.ClassNames.Direction.Landscape),window.addEventListener("orientationchange",t,!1)}},{key:"_registerEvent",value:function(e,t){return this._properEventMapType(e),this._events[e].push(t),t}},{key:"_delEvent",value:function(e,t){if(this._properEventMapType(e),void 0===t)delete this._events[e];else for(var a=0;a<this._events[e].length;a++)if(this._events[e][a]===t){this._events[e]=this._events[e].slice(0,a).concat(this._events[e].slice(a+1));break}}},{key:"_dispatchEvent",value:function(e){var t,a=!0;this._properEventMapType(e);for(var s=0;s<this._events[e].length;s++)t=this._events[e][s].apply(this,Array.prototype.slice.call(arguments,1)),a=a?t:a;return a}},{key:"_properEventMapType",value:function(e){this._events[e]=this._events[e]||[]}},{key:"_bindEvents",value:function(){var t=this;p.delegate(this.$keyboard,"touchstart","."+e.ClassNames.Key,function(t){t.stopPropagation(),this.classList.add(e.ClassNames.KeyTap)}),p.delegate(this.$keyboard,"touchend","."+e.ClassNames.Key,function(a){var s=+this.getAttribute("data-key");if(a.stopPropagation(),this.classList.remove(e.ClassNames.KeyTap),t._dispatchEvent("keyup",s))switch(s){case 8:t.setValue(t.value.slice(0,-1));break;case 13:t.fold();break;default:t.setValue(t.value+String.fromCharCode(s))}}),this._options.physical&&(window.addEventListener("keydown",function(a){switch(a.keyCode){case 16:t.shiftLock=!0,t._class.add(e.ClassNames.ShiftLock);break;case 20:t.capsLock=!0,t._class.add(e.ClassNames.CapsLock)}}),window.addEventListener("keyup",function(a){switch(a.keyCode){case 16:t.shiftLock=!1,t._class.remove(e.ClassNames.ShiftLock);break;case 20:t.capsLock=!1,t._class.remove(e.ClassNames.CapsLock);break;case 8:t.setValue(t.value.slice(0,-1));break;case 13:t.fold();break;default:t.setValue(t.value+String.fromCharCode(t.capsLock||t.shiftLock?a.keyCode:a.keyCode+32))}})),this.$target&&this.$target.addEventListener("touchend",function(e){t.popup(),e.stopPropagation()},!1)}},{key:"_class",get:function(){var e=this;return{add:function(){var t;if((t=e.$keyboard.classList).add.apply(t,arguments),e._options.target){var a;(a=e.$target.classList).add.apply(a,arguments)}},remove:function(){var t;if((t=e.$keyboard.classList).remove.apply(t,arguments),e._options.target){var a;(a=e.$target.classList).remove.apply(a,arguments)}}}}}]),e}();f.index=0,f.ClassNames=h,f.Direction=y,t["default"]=f},function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}function r(e,t){for(var a in t)t.hasOwnProperty(a)&&void 0===e[a]&&(e[a]=t[a]);return e}function o(e,t){var a=document.createElement("DIV");return a.innerHTML=(0,l["default"])(e)(t||{}),a.children[0]}function n(e,t,a,s){e&&e.addEventListener(t,function(t){var i=e.querySelectorAll(a);if(i)e:for(var r=0;r<i.length;r++)for(var o=t.target;o;){if(o==i[r]){s.call(o,t);break e}if(o=o.parentNode,o==e)break}},!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.extend=i,t.merge=r,t.render=o,t.delegate=n;var p=a(3),l=s(p)},function(e,t){"use strict";e.exports=function(e,t){return t="replace",Function("o,J","with(o||{}){J='"+e[t](/\s/g," ")[t](/<%/g,"\0")[t](/'(?![^\0]*%>)/g,"\\$&")[t](/\0=(.*?)%>/g,"\0J+=$1%>")[t](/\0/g,"';")[t](/%>/g,";J+='")+"'}return J")}},function(e,t){},,,,function(e,t){e.exports="<span class=papapa-target-input></span>"},function(e,t){e.exports="<div class=papapa-keyboard> <a href=https://github.com/latel/papapa/ >Star Papapa</a> <style>.papapa-keyboard{background:#d8d9db}.papapa-keyboard a{border:1px solid #8c8c8c;border-radius:3px;padding:1rem;display:block;margin:6rem auto 4rem;text-align:center;width:30%;text-decoration:none;color:#4e4e4e}</style> </div>"},function(e,t,a){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var p=a(1),l=i(p),c=a(2);s(c);a(11);var d=a(13),u=i(d),h=function(e){function t(){var e;r(this,t);for(var a=arguments.length,s=Array(a),i=0;i<a;i++)s[i]=arguments[i];return o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this,u["default"]].concat(s)))}return n(t,e),t}(l["default"]);t["default"]=h},function(e,t){},,function(e,t){e.exports='<div class="papapa-keyboard papapa-keyboard-numpad"> <ul class="pop-cnt-txt black"> <li class=papapa-keyboard-key data-key=49>1</li> <li class=papapa-keyboard-key data-key=50>2</li> <li class=papapa-keyboard-key data-key=51>3</li> <li class=papapa-keyboard-key data-key=52>4</li> <li class=papapa-keyboard-key data-key=53>5</li> <li class=papapa-keyboard-key data-key=54>6</li> <li class=papapa-keyboard-key data-key=55>7</li> <li class=papapa-keyboard-key data-key=56>8</li> <li class=papapa-keyboard-key data-key=57>9</li> <% if (options.withDot) {%> <li class=papapa-keyboard-key data-key=46>.</li> <%} else {%> <li class=""></li> <%}%> <li class=papapa-keyboard-key data-key=48>0</li> <li class="papapa-keyboard-key key-del icon-backspace" data-key=8></li> </ul> </div>'}])});